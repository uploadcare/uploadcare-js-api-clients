<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@uploadcare/upload-client</title><meta name="description" content="Documentation for @uploadcare/upload-client"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">@uploadcare/upload-client</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@uploadcare/upload-client</h1></div><div class="tsd-panel tsd-typography"><h1 id="uploadcare-upload-client" class="tsd-anchor-link">Uploadcare Upload Client<a href="#uploadcare-upload-client" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><a href="https://uploadcare.com/?utm_source=github&utm_campaign=uploadcare-js-api-clients">
    <img align="right" width="64" height="64"
      src="https://ucarecdn.com/edfdf045-34c0-4087-bbdd-e3834921f890/userpiccircletransparent.svg"
      alt="">
</a>
<p>This is an Uploadcare <a href="https://uploadcare.com/docs/api_reference/upload/?utm_source=github&amp;utm_campaign=uploadcare-js-api-clients">Upload API</a> wrapper to work with
Node.js and browser.</p>
<p><a href="https://uploadcare.github.io/uploadcare-js-api-clients/upload-client/">API Reference</a></p>
<p><a href="https://github.com/uploadcare/uploadcare-js-api-clients/actions/workflows/checks.yml"><img src="https://github.com/uploadcare/uploadcare-js-api-clients/actions/workflows/checks.yml/badge.svg" alt="Build Status"></a>
<a href="https://www.npmjs.org/package/@uploadcare/upload-client"><img src="http://img.shields.io/npm/v/@uploadcare/upload-client.svg" alt="NPM version"></a>
<a href="https://github.com/uploadcare/uploadcare-js-api-clients/releases"><img src="https://img.shields.io/github/release/uploadcare/uploadcare-js-api-clients.svg" alt="GitHub release"></a> 
<a href="https://stackshare.io/uploadcare/stacks/"><img src="https://img.shields.io/badge/tech-stack-0690fa.svg?style=flat" alt="Uploadcare stack on StackShare"></a></p>
<!-- toc -->
<ul>
<li><a href="#install">Install</a></li>
<li><a href="#usage">Usage</a>
<ul>
<li><a href="#high-level-api">High-Level API</a></li>
<li><a href="#low-level-api">Low-Level API</a></li>
<li><a href="#settings">Settings</a></li>
<li><a href="#uploading-queue">Uploading queue</a></li>
</ul>
</li>
<li><a href="#react-native">React Native</a></li>
<li><a href="#testing">Testing</a></li>
<li><a href="#security-issues">Security issues</a></li>
<li><a href="#feedback">Feedback</a></li>
</ul>
<!-- tocstop -->
<h2 id="install" class="tsd-anchor-link">Install<a href="#install" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@uploadcare/upload-client</span>
</code><button type="button">Copy</button></pre>

<h2 id="usage" class="tsd-anchor-link">Usage<a href="#usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="high-level-api" class="tsd-anchor-link">High-Level API<a href="#high-level-api" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To access the High-Level API, you need to create an instance of <code>UploadClient</code>
providing the necessary settings. Specifying <code>YOUR_PUBLIC_KEY</code> is mandatory: it
points to the specific Uploadcare project:</p>
<pre><code class="javascript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">UploadClient</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@uploadcare/upload-client&#39;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">client</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">UploadClient</span><span class="hl-1">({ </span><span class="hl-4">publicKey:</span><span class="hl-1"> </span><span class="hl-2">&#39;YOUR_PUBLIC_KEY&#39;</span><span class="hl-1"> })</span>
</code><button type="button">Copy</button></pre>

<p>Once the UploadClient instance is created, you can start using the wrapper to
upload files from binary data:</p>
<pre><code class="javascript"><span class="hl-4">client</span><span class="hl-1">.</span><span class="hl-0">uploadFile</span><span class="hl-1">(</span><span class="hl-4">fileData</span><span class="hl-1">).</span><span class="hl-0">then</span><span class="hl-1">((</span><span class="hl-4">file</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">file</span><span class="hl-1">.</span><span class="hl-4">uuid</span><span class="hl-1">))</span>
</code><button type="button">Copy</button></pre>

<p>Another option is uploading files from URL, via the <code>uploadFile</code> method:</p>
<pre><code class="javascript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">fileURL</span><span class="hl-1"> = </span><span class="hl-2">&#39;https://example.com/file.jpg&#39;</span><br/><br/><span class="hl-4">client</span><span class="hl-1">.</span><span class="hl-0">uploadFile</span><span class="hl-1">(</span><span class="hl-4">fileURL</span><span class="hl-1">).</span><span class="hl-0">then</span><span class="hl-1">((</span><span class="hl-4">file</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">file</span><span class="hl-1">.</span><span class="hl-4">uuid</span><span class="hl-1">))</span>
</code><button type="button">Copy</button></pre>

<p>You can also use the <code>uploadFile</code> method to get previously uploaded files via
their UUIDs:</p>
<pre><code class="javascript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">fileUUID</span><span class="hl-1"> = </span><span class="hl-2">&#39;edfdf045-34c0-4087-bbdd-e3834921f890&#39;</span><br/><br/><span class="hl-4">client</span><span class="hl-1">.</span><span class="hl-0">uploadFile</span><span class="hl-1">(</span><span class="hl-4">fileUUID</span><span class="hl-1">).</span><span class="hl-0">then</span><span class="hl-1">((</span><span class="hl-4">file</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">file</span><span class="hl-1">.</span><span class="hl-4">uuid</span><span class="hl-1">))</span>
</code><button type="button">Copy</button></pre>

<p>You can track uploading progress:</p>
<pre><code class="javascript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">fileUUID</span><span class="hl-1"> = </span><span class="hl-2">&#39;edfdf045-34c0-4087-bbdd-e3834921f890&#39;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-0">onProgress</span><span class="hl-1"> = ({ </span><span class="hl-4">isComputable</span><span class="hl-1">, </span><span class="hl-4">value</span><span class="hl-1"> }) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">isComputable</span><span class="hl-1">, </span><span class="hl-4">value</span><span class="hl-1">)</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">client</span><br/><span class="hl-1">  .</span><span class="hl-0">uploadFile</span><span class="hl-1">(</span><span class="hl-4">fileUUID</span><span class="hl-1">, { </span><span class="hl-4">onProgress</span><span class="hl-1"> })</span><br/><span class="hl-1">  .</span><span class="hl-0">then</span><span class="hl-1">((</span><span class="hl-4">file</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">file</span><span class="hl-1">.</span><span class="hl-4">uuid</span><span class="hl-1">))</span>
</code><button type="button">Copy</button></pre>

<p>Note that <code>isComputable</code> flag can be <code>false</code> is some cases of uploading from the URL.
If we can't calculate the file size, progress info will look like <code>{ isComputable: false }</code> without a <code>value</code>.
Successful uploading progress will be always <code>{ isComputable: true, value: 1 }</code>.</p>
<p>You can cancel file uploading and track this event:</p>
<pre><code class="javascript"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">fileUUID</span><span class="hl-1"> = </span><span class="hl-2">&#39;edfdf045-34c0-4087-bbdd-e3834921f890&#39;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">abortController</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">AbortController</span><span class="hl-1">()</span><br/><br/><span class="hl-4">client</span><br/><span class="hl-1">  .</span><span class="hl-0">uploadFile</span><span class="hl-1">(</span><span class="hl-4">fileUUID</span><span class="hl-1">, { </span><span class="hl-4">signal:</span><span class="hl-1"> </span><span class="hl-4">abortController</span><span class="hl-1">.</span><span class="hl-4">signal</span><span class="hl-1"> })</span><br/><span class="hl-1">  .</span><span class="hl-0">then</span><span class="hl-1">((</span><span class="hl-4">file</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">file</span><span class="hl-1">.</span><span class="hl-4">uuid</span><span class="hl-1">))</span><br/><span class="hl-1">  .</span><span class="hl-0">catch</span><span class="hl-1">((</span><span class="hl-4">error</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">error</span><span class="hl-1">.</span><span class="hl-4">isCancel</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`File uploading was canceled.`</span><span class="hl-1">)</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  })</span><br/><br/><span class="hl-7">// Cancel uploading</span><br/><span class="hl-4">abortController</span><span class="hl-1">.</span><span class="hl-0">abort</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

<p>List of all available <code>UploadClient</code> API methods:</p>
<pre><code class="typescript"><span class="hl-5">interface</span><span class="hl-1"> </span><span class="hl-8">UploadClient</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-0">updateSettings</span><span class="hl-1">(</span><span class="hl-4">newSettings</span><span class="hl-1">: </span><span class="hl-8">Settings</span><span class="hl-1"> = {}): </span><span class="hl-8">void</span><br/><br/><span class="hl-1">  </span><span class="hl-0">getSettings</span><span class="hl-1">(): </span><span class="hl-8">Settings</span><br/><br/><span class="hl-1">  </span><span class="hl-0">base</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-4">file</span><span class="hl-1">: </span><span class="hl-8">Blob</span><span class="hl-1"> | </span><span class="hl-8">File</span><span class="hl-1"> | </span><span class="hl-8">Buffer</span><span class="hl-1"> | </span><span class="hl-8">ReactNativeAsset</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">options</span><span class="hl-1">: </span><span class="hl-8">BaseOptions</span><br/><span class="hl-1">  ): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">BaseResponse</span><span class="hl-1">&gt;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">info</span><span class="hl-1">(</span><span class="hl-4">uuid</span><span class="hl-1">: </span><span class="hl-8">Uuid</span><span class="hl-1">, </span><span class="hl-4">options</span><span class="hl-1">: </span><span class="hl-8">InfoOptions</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">FileInfo</span><span class="hl-1">&gt;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">fromUrl</span><span class="hl-1">(</span><span class="hl-4">sourceUrl</span><span class="hl-1">: </span><span class="hl-8">Url</span><span class="hl-1">, </span><span class="hl-4">options</span><span class="hl-1">: </span><span class="hl-8">FromUrlOptions</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">FromUrlResponse</span><span class="hl-1">&gt;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">fromUrlStatus</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-4">token</span><span class="hl-1">: </span><span class="hl-8">Token</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">options</span><span class="hl-1">: </span><span class="hl-8">FromUrlStatusOptions</span><br/><span class="hl-1">  ): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">FromUrlStatusResponse</span><span class="hl-1">&gt;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">group</span><span class="hl-1">(</span><span class="hl-4">uuids</span><span class="hl-1">: </span><span class="hl-8">Uuid</span><span class="hl-1">[], </span><span class="hl-4">options</span><span class="hl-1">: </span><span class="hl-8">GroupOptions</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">GroupInfo</span><span class="hl-1">&gt;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">groupInfo</span><span class="hl-1">(</span><span class="hl-4">id</span><span class="hl-1">: </span><span class="hl-8">GroupId</span><span class="hl-1">, </span><span class="hl-4">options</span><span class="hl-1">: </span><span class="hl-8">GroupInfoOptions</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">GroupInfo</span><span class="hl-1">&gt;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">multipartStart</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-4">size</span><span class="hl-1">: </span><span class="hl-8">number</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">options</span><span class="hl-1">: </span><span class="hl-8">MultipartStartOptions</span><br/><span class="hl-1">  ): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">MultipartStartResponse</span><span class="hl-1">&gt;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">multipartUpload</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-4">part</span><span class="hl-1">: </span><span class="hl-8">Buffer</span><span class="hl-1"> | </span><span class="hl-8">Blob</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">url</span><span class="hl-1">: </span><span class="hl-8">MultipartPart</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">options</span><span class="hl-1">: </span><span class="hl-8">MultipartUploadOptions</span><br/><span class="hl-1">  ): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">MultipartUploadResponse</span><span class="hl-1">&gt;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">multipartComplete</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-4">uuid</span><span class="hl-1">: </span><span class="hl-8">Uuid</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">options</span><span class="hl-1">: </span><span class="hl-8">MultipartCompleteOptions</span><br/><span class="hl-1">  ): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">FileInfo</span><span class="hl-1">&gt;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">uploadFile</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-4">data</span><span class="hl-1">: </span><span class="hl-8">Blob</span><span class="hl-1"> | </span><span class="hl-8">File</span><span class="hl-1"> | </span><span class="hl-8">Buffer</span><span class="hl-1"> | </span><span class="hl-8">ReactNativeAsset</span><span class="hl-1"> | </span><span class="hl-8">Url</span><span class="hl-1"> | </span><span class="hl-8">Uuid</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">options</span><span class="hl-1">: </span><span class="hl-8">FileFromOptions</span><br/><span class="hl-1">  ): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">UploadcareFile</span><span class="hl-1">&gt;</span><br/><br/><span class="hl-1">  </span><span class="hl-0">uploadFileGroup</span><span class="hl-1">(</span><br/><span class="hl-1">    </span><span class="hl-4">data</span><span class="hl-1">: (</span><span class="hl-8">Blob</span><span class="hl-1"> | </span><span class="hl-8">File</span><span class="hl-1"> | </span><span class="hl-8">Buffer</span><span class="hl-1"> | </span><span class="hl-8">ReactNativeAsset</span><span class="hl-1">)[] | </span><span class="hl-8">Url</span><span class="hl-1">[] | </span><span class="hl-8">Uuid</span><span class="hl-1">[],</span><br/><span class="hl-1">    </span><span class="hl-4">options</span><span class="hl-1">: </span><span class="hl-8">FileFromOptions</span><span class="hl-1"> &amp; </span><span class="hl-8">GroupFromOptions</span><br/><span class="hl-1">  ): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-8">UploadcareGroup</span><span class="hl-1">&gt;</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>You can import only needed methods directly, without <code>UploadClient</code> wrapper:</p>
<pre><code class="javascript"><span class="hl-3">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">uploadFile</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">uploadFromUrl</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">uploadDirect</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">uploadFromUploaded</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">uploadMultipart</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">uploadFileGroup</span><br/><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@uploadcare/upload-client&#39;</span>
</code><button type="button">Copy</button></pre>

<h3 id="low-level-api" class="tsd-anchor-link">Low-Level API<a href="#low-level-api" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Also, you can use low-level wrappers to call the API endpoints directly:</p>
<pre><code class="javascript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">base</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@uploadcare/upload-client&#39;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-0">onProgress</span><span class="hl-1"> = ({ </span><span class="hl-4">isComputable</span><span class="hl-1">, </span><span class="hl-4">value</span><span class="hl-1"> }) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">isComputable</span><span class="hl-1">, </span><span class="hl-4">value</span><span class="hl-1">)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">abortController</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">AbortController</span><span class="hl-1">()</span><br/><br/><span class="hl-0">base</span><span class="hl-1">(</span><span class="hl-4">fileData</span><span class="hl-1">, { </span><span class="hl-4">onProgress</span><span class="hl-1">, </span><span class="hl-4">signal:</span><span class="hl-1"> </span><span class="hl-4">abortController</span><span class="hl-1">.</span><span class="hl-4">signal</span><span class="hl-1"> }) </span><span class="hl-7">// fileData must be `Blob` or `File` or `Buffer`</span><br/><span class="hl-1">  .</span><span class="hl-0">then</span><span class="hl-1">((</span><span class="hl-4">data</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">data</span><span class="hl-1">.</span><span class="hl-4">file</span><span class="hl-1">))</span><br/><span class="hl-1">  .</span><span class="hl-0">catch</span><span class="hl-1">((</span><span class="hl-4">error</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-3">if</span><span class="hl-1"> (</span><span class="hl-4">error</span><span class="hl-1">.</span><span class="hl-4">isCancel</span><span class="hl-1">) {</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">`File uploading was canceled.`</span><span class="hl-1">)</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  })</span><br/><br/><span class="hl-7">// Also you can cancel upload:</span><br/><span class="hl-4">abortController</span><span class="hl-1">.</span><span class="hl-0">abort</span><span class="hl-1">()</span>
</code><button type="button">Copy</button></pre>

<p>List of all available API methods:</p>
<pre><code class="typescript"><span class="hl-0">base</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">file</span><span class="hl-1">: </span><span class="hl-4">Blob</span><span class="hl-1"> | </span><span class="hl-4">File</span><span class="hl-1"> | </span><span class="hl-4">Buffer</span><span class="hl-1"> | </span><span class="hl-4">ReactNativeAsset</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">options</span><span class="hl-1">: </span><span class="hl-4">BaseOptions</span><br/><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">BaseResponse</span><span class="hl-1">&gt;</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-0">info</span><span class="hl-1">(</span><span class="hl-4">uuid</span><span class="hl-1">: </span><span class="hl-4">Uuid</span><span class="hl-1">, </span><span class="hl-4">options</span><span class="hl-1">: </span><span class="hl-4">InfoOptions</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">FileInfo</span><span class="hl-1">&gt;</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-0">fromUrl</span><span class="hl-1">(</span><span class="hl-4">sourceUrl</span><span class="hl-1">: </span><span class="hl-4">Url</span><span class="hl-1">, </span><span class="hl-4">options</span><span class="hl-1">: </span><span class="hl-4">FromUrlOptions</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">FromUrlResponse</span><span class="hl-1">&gt;</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-0">fromUrlStatus</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">token</span><span class="hl-1">: </span><span class="hl-4">Token</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">options</span><span class="hl-1">: </span><span class="hl-4">FromUrlStatusOptions</span><br/><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">FromUrlStatusResponse</span><span class="hl-1">&gt;</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-0">group</span><span class="hl-1">(</span><span class="hl-4">uuids</span><span class="hl-1">: </span><span class="hl-4">Uuid</span><span class="hl-1">[], </span><span class="hl-4">options</span><span class="hl-1">: </span><span class="hl-4">GroupOptions</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">GroupInfo</span><span class="hl-1">&gt;</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-0">groupInfo</span><span class="hl-1">(</span><span class="hl-4">id</span><span class="hl-1">: </span><span class="hl-4">GroupId</span><span class="hl-1">, </span><span class="hl-4">options</span><span class="hl-1">: </span><span class="hl-4">GroupInfoOptions</span><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">GroupInfo</span><span class="hl-1">&gt;</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-0">multipartStart</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">size</span><span class="hl-1">: </span><span class="hl-4">number</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">options</span><span class="hl-1">: </span><span class="hl-4">MultipartStartOptions</span><br/><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">MultipartStartResponse</span><span class="hl-1">&gt;</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-0">multipartUpload</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">part</span><span class="hl-1">: </span><span class="hl-4">Buffer</span><span class="hl-1"> | </span><span class="hl-4">Blob</span><span class="hl-1"> | </span><span class="hl-4">File</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">url</span><span class="hl-1">: </span><span class="hl-4">MultipartPart</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">options</span><span class="hl-1">: </span><span class="hl-4">MultipartUploadOptions</span><br/><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">MultipartUploadResponse</span><span class="hl-1">&gt;</span>
</code><button type="button">Copy</button></pre>

<pre><code class="typescript"><span class="hl-0">multipartComplete</span><span class="hl-1">(</span><br/><span class="hl-1">  </span><span class="hl-4">uuid</span><span class="hl-1">: </span><span class="hl-4">Uuid</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">options</span><span class="hl-1">: </span><span class="hl-4">MultipartCompleteOptions</span><br/><span class="hl-1">): </span><span class="hl-8">Promise</span><span class="hl-1">&lt;</span><span class="hl-4">FileInfo</span><span class="hl-1">&gt;</span>
</code><button type="button">Copy</button></pre>

<h3 id="settings" class="tsd-anchor-link">Settings<a href="#settings" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><h4 id="publickey-string" class="tsd-anchor-link"><code>publicKey: string</code><a href="#publickey-string" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>The main use of a <code>publicKey</code> is to identify a target project for your uploads.
It is required when using Upload API.</p>
<h4 id="basecdn-string" class="tsd-anchor-link"><code>baseCDN: string</code><a href="#basecdn-string" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Defines your schema and CDN domain. Can be changed to one of the predefined
values (<code>https://ucarecdn.com/</code>) or your custom CNAME.</p>
<p>Defaults to <code>https://ucarecdn.com/</code>.</p>
<h4 id="baseurl-string" class="tsd-anchor-link"><code>baseURL: string</code><a href="#baseurl-string" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>API base URL.</p>
<p>Defaults to <code>https://upload.uploadcare.com</code></p>
<h4 id="filename-string" class="tsd-anchor-link"><code>fileName: string</code><a href="#filename-string" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>You can specify an original filename.
It could useful when file input does not contain filename.</p>
<p>Defaults to <code>original</code>.</p>
<h4 id="store-boolean" class="tsd-anchor-link"><code>store: boolean</code><a href="#store-boolean" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Forces files uploaded with <code>UploadClient</code> to be stored or not. For instance,
you might want to turn this off when automatic file storing is enabled in your
project, but you do not want to store files uploaded with a particular instance.</p>
<h4 id="securesignature-string" class="tsd-anchor-link"><code>secureSignature: string</code><a href="#securesignature-string" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>In case you enable signed uploads for your project, you’d need to provide
the client with <code>secureSignature</code> and <code>secureExpire</code> params.</p>
<p>The <code>secureSignature</code> is an MD5 hex-encoded hash from a concatenation
of <code>API secret key</code> and <code>secureExpire</code>.</p>
<h4 id="secureexpire-string" class="tsd-anchor-link"><code>secureExpire: string</code><a href="#secureexpire-string" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Stands for the Unix time to which the signature is valid, e.g., <code>1454902434</code>.</p>
<h4 id="useragent-string--customuseragentfn" class="tsd-anchor-link"><code>userAgent: string | CustomUserAgentFn</code><a href="#useragent-string--customuseragentfn" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-5">type</span><span class="hl-1"> </span><span class="hl-8">CustomUserAgentOptions</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-4">publicKey</span><span class="hl-1">: </span><span class="hl-8">string</span><br/><span class="hl-1">  </span><span class="hl-4">libraryName</span><span class="hl-1">: </span><span class="hl-8">string</span><br/><span class="hl-1">  </span><span class="hl-4">libraryVersion</span><span class="hl-1">: </span><span class="hl-8">string</span><br/><span class="hl-1">  </span><span class="hl-4">languageName</span><span class="hl-1">: </span><span class="hl-8">string</span><br/><span class="hl-1">  </span><span class="hl-4">integration</span><span class="hl-1">?: </span><span class="hl-8">string</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-5">type</span><span class="hl-1"> </span><span class="hl-8">CustomUserAgentFn</span><span class="hl-1"> = (</span><span class="hl-4">options</span><span class="hl-1">: </span><span class="hl-8">CustomUserAgentOptions</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-8">string</span>
</code><button type="button">Copy</button></pre>

<p><code>X-UC-User-Agent</code> header value.</p>
<p>Defaults to <code>UploadcareUploadClient/${version}/${publicKey} (JavaScript; ${integration})</code></p>
<h4 id="integration-string" class="tsd-anchor-link"><code>integration: string</code><a href="#integration-string" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Integration value passed to the <code>X-UC-User-Agent</code> header.
May be overrided with the custom user agent string or function.</p>
<h4 id="checkforurlduplicates-boolean" class="tsd-anchor-link"><code>checkForUrlDuplicates: boolean</code><a href="#checkforurlduplicates-boolean" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Runs the duplicate check and provides the immediate-download behavior.</p>
<h4 id="saveurlforrecurrentuploads-boolean" class="tsd-anchor-link"><code>saveUrlForRecurrentUploads: boolean</code><a href="#saveurlforrecurrentuploads-boolean" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Provides the save/update URL behavior. The parameter can be used if you believe
that the <code>sourceUrl</code> will be used more than once. Using the parameter also
updates an existing reference with a new <code>sourceUrl</code> content.</p>
<h4 id="source-string" class="tsd-anchor-link"><code>source: string</code><a href="#source-string" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Defines the upload source to use, can be set to local, url, etc.</p>
<h4 id="jsonpcallback-string" class="tsd-anchor-link"><code>jsonpCallback: string</code><a href="#jsonpcallback-string" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Sets the name of your JSONP callback function to create files group from a set
of files by using their UUIDs.</p>
<h4 id="maxcontentlength-number" class="tsd-anchor-link"><code>maxContentLength: number</code><a href="#maxcontentlength-number" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p><code>maxContentLength</code> defines the maximum allowed size (in bytes) of the HTTP
response content.</p>
<p>Defaults to <code>52428800</code> bytes (50 MB).</p>
<h4 id="retrythrottledrequestmaxtimes-number" class="tsd-anchor-link"><code>retryThrottledRequestMaxTimes: number</code><a href="#retrythrottledrequestmaxtimes-number" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Sets the maximum number of attempts to retry throttled requests.</p>
<p>Defaults to <code>1</code>.</p>
<h4 id="retrynetworkerrormaxtimes-number" class="tsd-anchor-link"><code>retryNetworkErrorMaxTimes: number</code><a href="#retrynetworkerrormaxtimes-number" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Sets the maximum number of attempts to retry requests that failed with a network error.</p>
<p>Defaults to <code>3</code>.</p>
<p>The delay between attempts equals attempt number, i.e.</p>
<ul>
<li>first attempt - 1 second delay</li>
<li>second attempt - 2 seconds delay</li>
<li>third attempt - 3 seconds delay</li>
<li>...</li>
</ul>
<h4 id="multipartchunksize-number" class="tsd-anchor-link"><code>multipartChunkSize: number</code><a href="#multipartchunksize-number" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>This option is only applicable when handling local files.
Sets the multipart chunk size.</p>
<p>Defaults to <code>5242880</code> bytes (5 MB).</p>
<h4 id="multipartminfilesize-number" class="tsd-anchor-link"><code>multipartMinFileSize: number</code><a href="#multipartminfilesize-number" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>This option is only applicable when handling local files.
Sets the multipart uploading file size threshold: larger files
will be uploaded in the Multipart mode rather than via Direct Upload.
The value is limited to the range from <code>10485760</code> (10 MB) to <code>104857600</code> (100 MB).</p>
<p>Defaults to <code>26214400</code> (25 MB).</p>
<h4 id="multipartminlastpartsize-number" class="tsd-anchor-link"><code>multipartMinLastPartSize: number</code><a href="#multipartminlastpartsize-number" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>This option is only applicable when handling local files. Set the minimum size
of the last multipart part.</p>
<p>Defaults to <code>1048576</code> bytes (1 MB).</p>
<h4 id="maxconcurrentrequests-number" class="tsd-anchor-link"><code>maxConcurrentRequests: number</code><a href="#maxconcurrentrequests-number" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>Allows specifying the number of concurrent requests.</p>
<p>Defaults to <code>4</code>.</p>
<h3 id="contenttype-string" class="tsd-anchor-link"><code>contentType: string</code><a href="#contenttype-string" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>This option is useful when file input does not contain content type.</p>
<p>Defaults to <code>application/octet-stream</code>.</p>
<h3 id="metadata-metadata" class="tsd-anchor-link"><code>metadata: Metadata</code><a href="#metadata-metadata" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><pre><code class="typescript"><span class="hl-5">type</span><span class="hl-1"> </span><span class="hl-8">Metadata</span><span class="hl-1"> = {</span><br/><span class="hl-1">  [</span><span class="hl-4">key</span><span class="hl-1">: </span><span class="hl-8">string</span><span class="hl-1">]: </span><span class="hl-8">string</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<p>Metadata is additional, arbitrary data, associated with uploaded file.</p>
<p>Non-string values will be converted to <code>string</code>. <code>undefined</code> values will be ignored.</p>
<p>See <a href="https://uploadcare.com/docs/file-metadata/">docs</a> and <a href="https://uploadcare.com/api-refs/rest-api/v0.7.0/#tag/File-Metadata">REST API</a> for details.</p>
<h3 id="uploading-queue" class="tsd-anchor-link">Uploading queue<a href="#uploading-queue" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>If you're going to upload a lot of files at once, it's useful to do it in a queue. Otherwise, a large number of simultaneous requests can clog the internet channel and slow down the process.</p>
<p>To solve this problem, we provide a simple helper called <code>Queue</code>.</p>
<p>Here is an example of how to use it:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">Queue</span><span class="hl-1">, </span><span class="hl-4">uploadFile</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@uploadcare/upload-client&#39;</span><br/><br/><span class="hl-7">// Create a queue with a limit of 10 concurrent requests.</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">queue</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">Queue</span><span class="hl-1">(</span><span class="hl-9">10</span><span class="hl-1">)</span><br/><br/><span class="hl-7">// Create an array containing 50 files.</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">files</span><span class="hl-1"> = [</span><br/><span class="hl-1">  ...</span><span class="hl-0">Array</span><span class="hl-1">(</span><span class="hl-9">50</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-0">fill</span><span class="hl-1">(</span><span class="hl-9">0</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-0">map</span><span class="hl-1">((</span><span class="hl-4">_</span><span class="hl-1">, </span><span class="hl-4">idx</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-4">Buffer</span><span class="hl-1">.</span><span class="hl-0">from</span><span class="hl-1">(</span><span class="hl-2">`content-</span><span class="hl-5">${</span><span class="hl-4">idx</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">))</span><br/><span class="hl-1">]</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">promises</span><span class="hl-1"> = </span><span class="hl-4">files</span><span class="hl-1">.</span><span class="hl-0">map</span><span class="hl-1">((</span><span class="hl-4">file</span><span class="hl-1">, </span><span class="hl-4">idx</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">fileName</span><span class="hl-1"> = </span><span class="hl-2">`file-</span><span class="hl-5">${</span><span class="hl-4">idx</span><span class="hl-5">}</span><span class="hl-2">.txt`</span><br/><span class="hl-1">  </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-4">queue</span><br/><span class="hl-1">    .</span><span class="hl-0">add</span><span class="hl-1">(() </span><span class="hl-5">=&gt;</span><br/><span class="hl-1">      </span><span class="hl-0">uploadFile</span><span class="hl-1">(</span><span class="hl-4">file</span><span class="hl-1">, {</span><br/><span class="hl-1">        </span><span class="hl-4">publicKey:</span><span class="hl-1"> </span><span class="hl-2">&#39;YOUR_PUBLIC_KEY&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">contentType:</span><span class="hl-1"> </span><span class="hl-2">&#39;plain/text&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">        </span><span class="hl-4">fileName</span><br/><span class="hl-1">      })</span><br/><span class="hl-1">    )</span><br/><span class="hl-1">    .</span><span class="hl-0">then</span><span class="hl-1">((</span><span class="hl-4">fileInfo</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><br/><span class="hl-1">      </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-2">`&quot;File &quot;</span><span class="hl-5">${</span><span class="hl-4">fileName</span><span class="hl-5">}</span><span class="hl-2">&quot; has been successfully uploaded! You can access it at the following URL: &quot;</span><span class="hl-5">${</span><span class="hl-4">fileInfo</span><span class="hl-10">.</span><span class="hl-4">cdnUrl</span><span class="hl-5">}</span><span class="hl-2">&quot;`</span><br/><span class="hl-1">      )</span><br/><span class="hl-1">    )</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-8">Promise</span><span class="hl-1">.</span><span class="hl-0">all</span><span class="hl-1">(</span><span class="hl-4">promises</span><span class="hl-1">)</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-2">&#39;Files have been successfully uploaded&#39;</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<p>You can pass any function that returns a promise to <code>queue.add</code>, and it will be executed concurrently.</p>
<p><code>queue.add</code> returns a promise that mimics the one passed in, meaning it will resolve or reject with the corresponding values.</p>
<p>If the functionality of the built-in <code>Queue</code> is not sufficient for you, you can use any other third-party, more functional solution.</p>
<h2 id="react-native" class="tsd-anchor-link">React Native<a href="#react-native" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="prepare" class="tsd-anchor-link">Prepare<a href="#prepare" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>To be able to use <code>@uploadcare/upload-client</code> with React Native, you need to
install <a href="https://github.com/charpeni/react-native-url-polyfill">react-native-url-polyfill</a>.</p>
<p>To prevent <a href="https://github.com/charpeni/react-native-url-polyfill/issues/284"><code>Error: Cannot create URL for blob</code></a>
errors you need to configure your Android app schema to accept blobs -
have a look at this pull request for an example: <a href="https://github.com/charpeni/react-native-url-polyfill/commit/5985d7efc07b496b829883540d09c6f0be384387">5985d7e</a>.</p>
<ol>
<li>Add the following code to the <code>application</code> section of your <code>AndroidManifest.xml</code>:</li>
</ol>
<pre><code class="xml"><span class="hl-11">&lt;</span><span class="hl-12">provider</span><br/><span class="hl-1">  </span><span class="hl-13">android:name</span><span class="hl-1">=</span><span class="hl-14">&quot;com.facebook.react.modules.blob.BlobProvider&quot;</span><br/><span class="hl-1">  </span><span class="hl-13">android:authorities</span><span class="hl-1">=</span><span class="hl-14">&quot;@string/blob_provider_authority&quot;</span><br/><span class="hl-1">  </span><span class="hl-13">android:exported</span><span class="hl-1">=</span><span class="hl-14">&quot;false&quot;</span><br/><span class="hl-11">/&gt;</span>
</code><button type="button">Copy</button></pre>

<ol start="2">
<li>Add the following code to the <code>android/app/src/main/res/values/strings.xml</code>:</li>
</ol>
<pre><code class="xml"><span class="hl-11">&lt;</span><span class="hl-12">resources</span><span class="hl-11">&gt;</span><br/><span class="hl-1">  </span><span class="hl-11">&lt;</span><span class="hl-12">string</span><span class="hl-1"> </span><span class="hl-13">name</span><span class="hl-1">=</span><span class="hl-14">&quot;app_name&quot;</span><span class="hl-11">&gt;</span><span class="hl-1">MY_REACT_NATIVE_APP_NAME</span><span class="hl-11">&lt;/</span><span class="hl-12">string</span><span class="hl-11">&gt;</span><br/><span class="hl-1">  </span><span class="hl-11">&lt;</span><span class="hl-12">string</span><span class="hl-1"> </span><span class="hl-13">name</span><span class="hl-1">=</span><span class="hl-14">&quot;blob_provider_authority&quot;</span><span class="hl-11">&gt;</span><span class="hl-1">com.detox.blob</span><span class="hl-11">&lt;/</span><span class="hl-12">string</span><span class="hl-11">&gt;</span><br/><span class="hl-11">&lt;/</span><span class="hl-12">resources</span><span class="hl-11">&gt;</span>
</code><button type="button">Copy</button></pre>

<h3 id="usage-1" class="tsd-anchor-link">Usage<a href="#usage-1" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>You can use <code>ReactNativeAsset</code> as an input to the <code>@uploadcare/upload-client</code> like this:</p>
<pre><code class="ts"><span class="hl-5">type</span><span class="hl-1"> </span><span class="hl-8">ReactNativeAsset</span><span class="hl-1"> = {</span><br/><span class="hl-1">  </span><span class="hl-4">uri</span><span class="hl-1">: </span><span class="hl-8">string</span><br/><span class="hl-1">  </span><span class="hl-4">type</span><span class="hl-1">: </span><span class="hl-8">string</span><br/><span class="hl-1">  </span><span class="hl-4">name</span><span class="hl-1">?: </span><span class="hl-8">string</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<pre><code class="ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">asset</span><span class="hl-1"> = { </span><span class="hl-4">uri:</span><span class="hl-1"> </span><span class="hl-2">&#39;URI_TO_FILE&#39;</span><span class="hl-1">, </span><span class="hl-4">name:</span><span class="hl-1"> </span><span class="hl-2">&#39;file.txt&#39;</span><span class="hl-1">, </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-2">&#39;text/plain&#39;</span><span class="hl-1"> }</span><br/><span class="hl-0">uploadFile</span><span class="hl-1">(</span><span class="hl-4">asset</span><span class="hl-1">, { </span><span class="hl-4">publicKey:</span><span class="hl-1"> </span><span class="hl-2">&#39;YOUR_PUBLIC_KEY&#39;</span><span class="hl-1"> })</span>
</code><button type="button">Copy</button></pre>

<p>Or <code>Blob</code> like this:</p>
<pre><code class="ts"><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">uri</span><span class="hl-1"> = </span><span class="hl-2">&#39;URI_TO_FILE&#39;</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">blob</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">fetch</span><span class="hl-1">(</span><span class="hl-4">uri</span><span class="hl-1">).</span><span class="hl-0">then</span><span class="hl-1">((</span><span class="hl-4">res</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-4">res</span><span class="hl-1">.</span><span class="hl-0">blob</span><span class="hl-1">())</span><br/><span class="hl-0">uploadFile</span><span class="hl-1">(</span><span class="hl-4">blob</span><span class="hl-1">, {</span><br/><span class="hl-1">  </span><span class="hl-4">publicKey:</span><span class="hl-1"> </span><span class="hl-2">&#39;YOUR_PUBLIC_KEY&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">fileName:</span><span class="hl-1"> </span><span class="hl-2">&#39;file.txt&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">contentType:</span><span class="hl-1"> </span><span class="hl-2">&#39;text/plain&#39;</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<h2 id="testing" class="tsd-anchor-link">Testing<a href="#testing" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code><span class="hl-4">npm</span><span class="hl-1"> </span><span class="hl-4">run</span><span class="hl-1"> </span><span class="hl-4">test</span>
</code><button>Copy</button></pre>

<p>By default, tests runs with mock server, but you can run tests with
production environment.</p>
<p>Run test on production servers:</p>
<pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">test:production</span>
</code><button type="button">Copy</button></pre>

<p>Run test with mock server (mock server starts automaticaly):</p>
<pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">run</span><span class="hl-1"> </span><span class="hl-2">test</span>
</code><button type="button">Copy</button></pre>

<p>Run mock server:</p>
<pre><code><span class="hl-4">npm</span><span class="hl-1"> </span><span class="hl-4">run</span><span class="hl-1"> </span><span class="hl-15">mock</span><span class="hl-1">:</span><span class="hl-4">start</span>
</code><button>Copy</button></pre>

<p>And then you can run test:</p>
<pre><code><span class="hl-4">npm</span><span class="hl-1"> </span><span class="hl-4">run</span><span class="hl-1"> </span><span class="hl-15">test</span><span class="hl-1">:</span><span class="hl-4">jest</span>
</code><button>Copy</button></pre>

<h2 id="security-issues" class="tsd-anchor-link">Security issues<a href="#security-issues" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>If you think you ran into something in Uploadcare libraries that might have
security implications, please hit us up at
<a href="mailto:bugbounty@uploadcare.com">bugbounty@uploadcare.com</a> or Hackerone.</p>
<p>We'll contact you personally in a short time to fix an issue through co-op and
prior to any public disclosure.</p>
<h2 id="feedback" class="tsd-anchor-link">Feedback<a href="#feedback" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Issues and PRs are welcome. You can provide your feedback or drop us a support
request at <a href="mailto:hello@uploadcare.com">hello@uploadcare.com</a>.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#uploadcare-upload-client"><span>Uploadcare <wbr/>Upload <wbr/>Client</span></a><ul><li><a href="#install"><span>Install</span></a></li><li><a href="#usage"><span>Usage</span></a></li><li><ul><li><a href="#high-level-api"><span>High-<wbr/>Level <wbr/>API</span></a></li><li><a href="#low-level-api"><span>Low-<wbr/>Level <wbr/>API</span></a></li><li><a href="#settings"><span>Settings</span></a></li><li><ul><li><a href="#publickey-string"><span>public<wbr/>Key: string</span></a></li><li><a href="#basecdn-string"><span>base<wbr/>CDN: string</span></a></li><li><a href="#baseurl-string"><span>base<wbr/>URL: string</span></a></li><li><a href="#filename-string"><span>file<wbr/>Name: string</span></a></li><li><a href="#store-boolean"><span>store: boolean</span></a></li><li><a href="#securesignature-string"><span>secure<wbr/>Signature: string</span></a></li><li><a href="#secureexpire-string"><span>secure<wbr/>Expire: string</span></a></li><li><a href="#useragent-string--customuseragentfn"><span>user<wbr/>Agent: string | <wbr/>Custom<wbr/>User<wbr/>Agent<wbr/>Fn</span></a></li><li><a href="#integration-string"><span>integration: string</span></a></li><li><a href="#checkforurlduplicates-boolean"><span>check<wbr/>For<wbr/>Url<wbr/>Duplicates: boolean</span></a></li><li><a href="#saveurlforrecurrentuploads-boolean"><span>save<wbr/>Url<wbr/>For<wbr/>Recurrent<wbr/>Uploads: boolean</span></a></li><li><a href="#source-string"><span>source: string</span></a></li><li><a href="#jsonpcallback-string"><span>jsonp<wbr/>Callback: string</span></a></li><li><a href="#maxcontentlength-number"><span>max<wbr/>Content<wbr/>Length: number</span></a></li><li><a href="#retrythrottledrequestmaxtimes-number"><span>retry<wbr/>Throttled<wbr/>Request<wbr/>Max<wbr/>Times: number</span></a></li><li><a href="#retrynetworkerrormaxtimes-number"><span>retry<wbr/>Network<wbr/>Error<wbr/>Max<wbr/>Times: number</span></a></li><li><a href="#multipartchunksize-number"><span>multipart<wbr/>Chunk<wbr/>Size: number</span></a></li><li><a href="#multipartminfilesize-number"><span>multipart<wbr/>Min<wbr/>File<wbr/>Size: number</span></a></li><li><a href="#multipartminlastpartsize-number"><span>multipart<wbr/>Min<wbr/>Last<wbr/>Part<wbr/>Size: number</span></a></li><li><a href="#maxconcurrentrequests-number"><span>max<wbr/>Concurrent<wbr/>Requests: number</span></a></li></ul></li><li><a href="#contenttype-string"><span>content<wbr/>Type: string</span></a></li><li><a href="#metadata-metadata"><span>metadata: <wbr/>Metadata</span></a></li><li><a href="#uploading-queue"><span>Uploading queue</span></a></li></ul></li><li><a href="#react-native"><span>React <wbr/>Native</span></a></li><li><ul><li><a href="#prepare"><span>Prepare</span></a></li><li><a href="#usage-1"><span>Usage</span></a></li></ul></li><li><a href="#testing"><span>Testing</span></a></li><li><a href="#security-issues"><span>Security issues</span></a></li><li><a href="#feedback"><span>Feedback</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">@uploadcare/upload-client</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
