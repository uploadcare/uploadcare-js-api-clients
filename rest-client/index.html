<!DOCTYPE html><html class="default" lang="en" data-base="./"><head><meta charset="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>@uploadcare/rest-client</title><meta name="description" content="Documentation for @uploadcare/rest-client"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script defer src="assets/main.js"></script><script async src="assets/icons.js" id="tsd-icons-script"></script><script async src="assets/search.js" id="tsd-search-script"></script><script async src="assets/navigation.js" id="tsd-nav-script"></script><script async src="assets/hierarchy.js" id="tsd-hierarchy-script"></script></head><body><script>document.documentElement.dataset.theme = localStorage.getItem("tsd-theme") || "os";document.body.style.display="none";setTimeout(() => window.app?app.showPage():document.body.style.removeProperty("display"),500)</script><header class="tsd-page-toolbar"><div class="tsd-toolbar-contents container"><a href="index.html" class="title">@uploadcare/rest-client</a><div id="tsd-toolbar-links"></div><button id="tsd-search-trigger" class="tsd-widget" aria-label="Search"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-search"></use></svg></button><dialog id="tsd-search" aria-label="Search"><input role="combobox" id="tsd-search-input" aria-controls="tsd-search-results" aria-autocomplete="list" aria-expanded="true" autocapitalize="off" autocomplete="off" placeholder="Search the docs" maxLength="100"/><ul role="listbox" id="tsd-search-results"></ul><div id="tsd-search-status" aria-live="polite" aria-atomic="true"><div>Preparing search index...</div></div></dialog><a href="#" class="tsd-widget menu" id="tsd-toolbar-menu-trigger" data-toggle="menu" aria-label="Menu"><svg width="16" height="16" viewBox="0 0 16 16" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-menu"></use></svg></a></div></header><div class="container container-main"><div class="col-content"><div class="tsd-page-title"><h1>@uploadcare/rest-client</h1></div><div class="tsd-panel tsd-typography"><h1 id="uploadcare-rest-api-client" class="tsd-anchor-link">Uploadcare REST API Client<a href="#uploadcare-rest-api-client" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h1><a href="https://uploadcare.com/?utm_source=github&utm_campaign=uploadcare-js-api-clients">
    <img align="right" width="64" height="64"
      src="https://ucarecdn.com/edfdf045-34c0-4087-bbdd-e3834921f890/userpiccircletransparent.svg"
      alt="">
</a>
<p>This is an Uploadcare <a href="https://uploadcare.com/api-refs/rest-api/v0.7.0/?utm_source=github&amp;utm_campaign=uploadcare-js-api-clients">REST API</a> wrapper to work with
Node.js and browser.</p>
<p><a href="https://uploadcare.github.io/uploadcare-js-api-clients/rest-client/">API Reference</a></p>
<p><a href="https://github.com/uploadcare/uploadcare-js-api-clients/actions/workflows/checks.yml"><img src="https://github.com/uploadcare/uploadcare-js-api-clients/actions/workflows/checks.yml/badge.svg" alt="Build Status"></a>
<a href="https://www.npmjs.org/package/@uploadcare/rest-client"><img src="http://img.shields.io/npm/v/@uploadcare/rest-client.svg" alt="NPM version"></a>
<a href="https://github.com/uploadcare/uploadcare-js-api-clients/releases"><img src="https://img.shields.io/github/release/uploadcare/uploadcare-js-api-clients.svg" alt="GitHub release"></a> 
<a href="https://stackshare.io/uploadcare/stacks/"><img src="https://img.shields.io/badge/tech-stack-0690fa.svg?style=flat" alt="Uploadcare stack on StackShare"></a></p>
<!-- toc -->
<ul>
<li><a href="#install">Install</a></li>
<li><a href="#usage">Usage</a>
<ul>
<li><a href="#authentication">Authentication</a></li>
<li><a href="#api">API</a></li>
<li><a href="#settings">Settings</a></li>
<li><a href="#pagination">Pagination</a></li>
<li><a href="#job-status-polling">Job status polling</a></li>
</ul>
</li>
<li><a href="#security-issues">Security issues</a></li>
<li><a href="#feedback">Feedback</a></li>
</ul>
<!-- tocstop -->
<h2 id="install" class="tsd-anchor-link">Install<a href="#install" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><pre><code class="bash"><span class="hl-0">npm</span><span class="hl-1"> </span><span class="hl-2">install</span><span class="hl-1"> </span><span class="hl-2">@uploadcare/rest-client</span>
</code><button type="button">Copy</button></pre>

<h2 id="usage" class="tsd-anchor-link">Usage<a href="#usage" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><h3 id="authentication" class="tsd-anchor-link">Authentication<a href="#authentication" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>Every REST API request should be authenticated using your secret key.</p>
<p>According to the <a href="https://uploadcare.com/api-refs/rest-api/v0.7.0/#section/Authentication">spec</a>, there are two available authentication methods:</p>
<ol>
<li><code>Uploadcare.Simple</code></li>
<li><code>Uploadcare</code></li>
</ol>
<h4 id="uploadcaresimple-authentication-method" class="tsd-anchor-link"><code>Uploadcare.Simple</code> authentication method<a href="#uploadcaresimple-authentication-method" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>With the <a href="https://uploadcare.com/api-refs/rest-api/v0.7.0/#section/Authentication/Uploadcare.Simple"><code>Uploadcare.Simple</code></a> authentication method, your secret key gets included in every request. This method isn't secure enough because secret key is exposed to the runtime and will be transmitted over the network.</p>
<p><strong>⚠️We strongly recommend not to use this method in production, especially on the client-side.⚠️</strong></p>
<p>Example:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">listOfFiles</span><span class="hl-1">, </span><span class="hl-4">UploadcareSimpleAuthSchema</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@uploadcare/rest-client&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">uploadcareSimpleAuthSchema</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">UploadcareSimpleAuthSchema</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">publicKey:</span><span class="hl-1"> </span><span class="hl-2">&#39;YOUR_PUBLIC_KEY&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">secretKey:</span><span class="hl-1"> </span><span class="hl-2">&#39;YOUR_SECRET_KEY&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">listOfFiles</span><span class="hl-1">({}, { </span><span class="hl-4">authSchema:</span><span class="hl-1"> </span><span class="hl-4">uploadcareSimpleAuthSchema</span><span class="hl-1"> })</span>
</code><button type="button">Copy</button></pre>

<h4 id="uploadcare-authentication-method" class="tsd-anchor-link"><code>Uploadcare</code> authentication method<a href="#uploadcare-authentication-method" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>With the <a href="https://uploadcare.com/api-refs/rest-api/v0.7.0/#section/Authentication/Uploadcare"><code>Uploadcare</code></a> authentication method, your secret key is used to derive signature but isn't included in every request itself.</p>
<p><strong>Builtin signature resolver</strong></p>
<p>You can use the builtin signature resolver, which automatically generates signature in-place using <code>crypto</code> module at Node.js or Web Crypto API at browsers.</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">UploadcareAuthSchema</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@uploadcare/rest-client&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">UploadcareAuthSchema</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">publicKey:</span><span class="hl-1"> </span><span class="hl-2">&#39;YOUR_PUBLIC_KEY&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">secretKey:</span><span class="hl-1"> </span><span class="hl-2">&#39;YOUR_SECRET_KEY&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<p><strong>⚠️We strongly recommend not to use builtin signature resolver on the client-side.⚠️</strong></p>
<p><strong>Custom signature resolver</strong></p>
<p>This option is useful on the client-side to avoid secret key leak. You need to implement some backend endpoint, which will generate signature. In this case, secret key will be stored on your server only and will not be disclosed.</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">UploadcareAuthSchema</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@uploadcare/rest-client&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">UploadcareAuthSchema</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">publicKey:</span><span class="hl-1"> </span><span class="hl-2">&#39;YOUR_PUBLIC_KEY&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-0">signatureResolver</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-5">async</span><span class="hl-1"> (</span><span class="hl-4">signString</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-7">/**</span><br/><span class="hl-7">     * You need to make HTTPS request to your backend endpoint,</span><br/><span class="hl-7">     * which should sign the `signString` using secret key.</span><br/><span class="hl-7">     */</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">response</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">fetch</span><span class="hl-1">(</span><span class="hl-2">`/sign-request?signString=</span><span class="hl-5">${</span><span class="hl-0">encodeURIComponent</span><span class="hl-8">(</span><span class="hl-4">signString</span><span class="hl-8">)</span><span class="hl-5">}</span><span class="hl-2">`</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">signature</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">response</span><span class="hl-1">.</span><span class="hl-0">text</span><span class="hl-1">();</span><br/><span class="hl-1">    </span><span class="hl-3">return</span><span class="hl-1"> </span><span class="hl-4">signature</span><span class="hl-1">;</span><br/><span class="hl-1">  }</span><br/><span class="hl-1">})</span>
</code><button type="button">Copy</button></pre>

<p>And then somewhere on your backend:</p>
<pre><code class="javascript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">createSignature</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@uploadcare/rest-client&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-4">app</span><span class="hl-1">.</span><span class="hl-0">get</span><span class="hl-1">(</span><span class="hl-2">&#39;/sign-request&#39;</span><span class="hl-1">, </span><span class="hl-5">async</span><span class="hl-1"> (</span><span class="hl-4">req</span><span class="hl-1">, </span><span class="hl-4">res</span><span class="hl-1">) </span><span class="hl-5">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">signature</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">createSignature</span><span class="hl-1">(</span><span class="hl-2">&#39;YOUR_SECREY_KEY&#39;</span><span class="hl-1">, </span><span class="hl-4">req</span><span class="hl-1">.</span><span class="hl-4">query</span><span class="hl-1">.</span><span class="hl-4">signString</span><span class="hl-1">);</span><br/><span class="hl-1">  </span><span class="hl-4">res</span><span class="hl-1">.</span><span class="hl-0">send</span><span class="hl-1">(</span><span class="hl-4">signature</span><span class="hl-1">);</span><br/><span class="hl-1">})</span><br/>
</code><button type="button">Copy</button></pre>

<h3 id="api" class="tsd-anchor-link">API<a href="#api" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>You can use low-level wrappers to call the API endpoints directly:</p>
<pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">listOfFiles</span><span class="hl-1">, </span><span class="hl-4">UploadcareSimpleAuthSchema</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@uploadcare/rest-client&#39;</span><span class="hl-1">;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">uploadcareSimpleAuthSchema</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">UploadcareSimpleAuthSchema</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">publicKey:</span><span class="hl-1"> </span><span class="hl-2">&#39;YOUR_PUBLIC_KEY&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">secretKey:</span><span class="hl-1"> </span><span class="hl-2">&#39;YOUR_SECRET_KEY&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">listOfFiles</span><span class="hl-1">({}, { </span><span class="hl-4">authSchema:</span><span class="hl-1"> </span><span class="hl-4">uploadcareSimpleAuthSchema</span><span class="hl-1"> })</span>
</code><button type="button">Copy</button></pre>

<p>List of all available API methods is available at the <a href="https://uploadcare.github.io/uploadcare-js-api-clients/rest-client/">rest-client API Reference</a>.</p>
<h3 id="settings" class="tsd-anchor-link">Settings<a href="#settings" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>List of all available Settings is available at the <a href="https://uploadcare.github.io/uploadcare-js-api-clients/rest-client/modules#UserSettings">rest-client API Reference</a>.</p>
<h3 id="pagination" class="tsd-anchor-link">Pagination<a href="#pagination" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h3><p>We have the only two paginatable API methods - <code>listOfFiles</code> and <code>listOfGroups</code>. You can use one of those methods below to paginate over.</p>
<h4 id="using-async-generator-and-paginate-helper" class="tsd-anchor-link">Using async generator and <code>paginate()</code> helper<a href="#using-async-generator-and-paginate-helper" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">listOfFiles</span><span class="hl-1">, </span><span class="hl-4">paginate</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@uploadcare/rest-client&#39;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">uploadcareSimpleAuthSchema</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">UploadcareSimpleAuthSchema</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">publicKey:</span><span class="hl-1"> </span><span class="hl-2">&#39;YOUR_PUBLIC_KEY&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">secretKey:</span><span class="hl-1"> </span><span class="hl-2">&#39;YOUR_SECRET_KEY&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">paginatedListOfFiles</span><span class="hl-1"> = </span><span class="hl-0">paginate</span><span class="hl-1">(</span><span class="hl-4">listOfFiles</span><span class="hl-1">)</span><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">pages</span><span class="hl-1"> = </span><span class="hl-0">paginatedListOfFiles</span><span class="hl-1">({}, { </span><span class="hl-4">authSchema:</span><span class="hl-1"> </span><span class="hl-4">uploadcareSimpleAuthSchema</span><span class="hl-1"> })</span><br/><br/><span class="hl-3">for</span><span class="hl-1"> </span><span class="hl-3">await</span><span class="hl-1"> (</span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">page</span><span class="hl-1"> </span><span class="hl-5">of</span><span class="hl-1"> </span><span class="hl-4">pages</span><span class="hl-1">) {</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">page</span><span class="hl-1">)</span><br/><span class="hl-1">}</span>
</code><button type="button">Copy</button></pre>

<h4 id="using-paginator-class" class="tsd-anchor-link">Using <code>Paginator</code> class<a href="#using-paginator-class" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><pre><code class="typescript"><span class="hl-3">import</span><span class="hl-1"> { </span><span class="hl-4">listOfFiles</span><span class="hl-1">, </span><span class="hl-4">Paginator</span><span class="hl-1"> } </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@uploadcare/rest-client&#39;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">uploadcareSimpleAuthSchema</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">UploadcareSimpleAuthSchema</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">publicKey:</span><span class="hl-1"> </span><span class="hl-2">&#39;YOUR_PUBLIC_KEY&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">secretKey:</span><span class="hl-1"> </span><span class="hl-2">&#39;YOUR_SECRET_KEY&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">});</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">paginator</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">Paginator</span><span class="hl-1">(</span><span class="hl-4">listOfFiles</span><span class="hl-1">, {}, { </span><span class="hl-4">authSchema:</span><span class="hl-1"> </span><span class="hl-4">uploadcareSimpleAuthSchema</span><span class="hl-1"> })</span><br/><br/><span class="hl-3">while</span><span class="hl-1">(</span><span class="hl-4">paginator</span><span class="hl-1">.</span><span class="hl-0">hasNextPage</span><span class="hl-1">()) {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">page</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">paginator</span><span class="hl-1">.</span><span class="hl-0">next</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">page</span><span class="hl-1">)</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-3">while</span><span class="hl-1">(</span><span class="hl-4">paginator</span><span class="hl-1">.</span><span class="hl-0">hasPrevPage</span><span class="hl-1">()) {</span><br/><span class="hl-1">  </span><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">page</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-4">paginator</span><span class="hl-1">.</span><span class="hl-0">prev</span><span class="hl-1">()</span><br/><span class="hl-1">  </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">page</span><span class="hl-1">)</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">paginator</span><span class="hl-1">.</span><span class="hl-0">getCurrentPage</span><span class="hl-1">())</span>
</code><button type="button">Copy</button></pre>

<p>Check out the <a href="https://uploadcare.github.io/uploadcare-js-api-clients/rest-client/classes/Paginator">rest-client API Reference</a> for the <code>Paginator</code>.</p>
<h4 id="job-status-polling" class="tsd-anchor-link">Job status polling<a href="#job-status-polling" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h4><p>There are two helpers to do job status polling using Conversion API or Addons API: <code>conversionJobPoller</code> and <code>addonJobPoller</code>.</p>
<h5 id="conversion-api" class="tsd-anchor-link">Conversion API<a href="#conversion-api" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h5><pre><code class="ts"><span class="hl-3">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">conversionJobPoller</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">ConversionType</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">UploadcareSimpleAuthSchema</span><br/><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@uploadcare/rest-client&#39;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">uploadcareSimpleAuthSchema</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">UploadcareSimpleAuthSchema</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">publicKey:</span><span class="hl-1"> </span><span class="hl-2">&#39;YOUR_PUBLIC_KEY&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">secretKey:</span><span class="hl-1"> </span><span class="hl-2">&#39;YOUR_SECRET_KEY&#39;</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">abortController</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">AbortController</span><span class="hl-1">()</span><br/><span class="hl-7">// abortController.abort()</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">jobs</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">conversionJobPoller</span><span class="hl-1">(</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-4">type:</span><span class="hl-1"> </span><span class="hl-4">ConversionType</span><span class="hl-1">.</span><span class="hl-6">VIDEO</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">// type: ConversionType.DOCUMENT,</span><br/><span class="hl-1">    </span><span class="hl-0">onRun</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-4">response</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">response</span><span class="hl-1">), </span><span class="hl-7">// called when job is started</span><br/><span class="hl-1">    </span><span class="hl-0">onStatus</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-4">response</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">response</span><span class="hl-1">), </span><span class="hl-7">// called on every job status request</span><br/><span class="hl-1">    </span><span class="hl-4">paths:</span><span class="hl-1"> [</span><span class="hl-2">&#39;:uuid/video/-/size/x720/&#39;</span><span class="hl-1">, </span><span class="hl-2">&#39;:uuid/video/-/size/x360/&#39;</span><span class="hl-1">],</span><br/><span class="hl-1">    </span><span class="hl-4">store:</span><span class="hl-1"> </span><span class="hl-5">false</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">pollOptions:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">signal:</span><span class="hl-1"> </span><span class="hl-4">abortController</span><span class="hl-1">.</span><span class="hl-4">signal</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  { </span><span class="hl-4">authSchema:</span><span class="hl-1"> </span><span class="hl-4">uploadcareSimpleAuthSchema</span><span class="hl-1"> }</span><br/><span class="hl-1">)</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">results</span><span class="hl-1"> = </span><span class="hl-9">Promise</span><span class="hl-1">.</span><span class="hl-0">allSettled</span><span class="hl-1">(</span><span class="hl-4">jobs</span><span class="hl-1">)</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">results</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<h5 id="addons-api" class="tsd-anchor-link">Addons API<a href="#addons-api" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h5><pre><code class="ts"><span class="hl-3">import</span><span class="hl-1"> {</span><br/><span class="hl-1">  </span><span class="hl-4">addonJobPoller</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">AddonName</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">UploadcareSimpleAuthSchema</span><br/><span class="hl-1">} </span><span class="hl-3">from</span><span class="hl-1"> </span><span class="hl-2">&#39;@uploadcare/rest-client&#39;</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">uploadcareSimpleAuthSchema</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">UploadcareSimpleAuthSchema</span><span class="hl-1">({</span><br/><span class="hl-1">  </span><span class="hl-4">publicKey:</span><span class="hl-1"> </span><span class="hl-2">&#39;YOUR_PUBLIC_KEY&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">  </span><span class="hl-4">secretKey:</span><span class="hl-1"> </span><span class="hl-2">&#39;YOUR_SECRET_KEY&#39;</span><br/><span class="hl-1">})</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">abortController</span><span class="hl-1"> = </span><span class="hl-5">new</span><span class="hl-1"> </span><span class="hl-0">AbortController</span><span class="hl-1">()</span><br/><span class="hl-7">// abortController.abort()</span><br/><br/><span class="hl-5">const</span><span class="hl-1"> </span><span class="hl-6">result</span><span class="hl-1"> = </span><span class="hl-3">await</span><span class="hl-1"> </span><span class="hl-0">addonJobPoller</span><span class="hl-1">(</span><br/><span class="hl-1">  {</span><br/><span class="hl-1">    </span><span class="hl-4">addonName:</span><span class="hl-1"> </span><span class="hl-4">AddonName</span><span class="hl-1">.</span><span class="hl-6">UC_CLAMAV_VIRUS_SCAN</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-7">// addonName: AddonName.AWS_REKOGNITION_DETECT_LABELS,</span><br/><span class="hl-1">    </span><span class="hl-7">// addonName: AddonName.REMOVE_BG,</span><br/><span class="hl-1">    </span><span class="hl-0">onRun</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-4">response</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">response</span><span class="hl-1">), </span><span class="hl-7">// called when job is started</span><br/><span class="hl-1">    </span><span class="hl-0">onStatus</span><span class="hl-4">:</span><span class="hl-1"> </span><span class="hl-4">response</span><span class="hl-1"> </span><span class="hl-5">=&gt;</span><span class="hl-1"> </span><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">response</span><span class="hl-1">), </span><span class="hl-7">// called on every job status request</span><br/><span class="hl-1">    </span><span class="hl-4">target:</span><span class="hl-1"> </span><span class="hl-2">&#39;:uuid&#39;</span><span class="hl-1">,</span><br/><span class="hl-1">    </span><span class="hl-4">params:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">purge_infected:</span><span class="hl-1"> </span><span class="hl-5">false</span><br/><span class="hl-1">    },</span><br/><span class="hl-1">    </span><span class="hl-4">pollOptions:</span><span class="hl-1"> {</span><br/><span class="hl-1">      </span><span class="hl-4">signal:</span><span class="hl-1"> </span><span class="hl-4">abortController</span><span class="hl-1">.</span><span class="hl-4">signal</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">  },</span><br/><span class="hl-1">  </span><span class="hl-4">testSettings</span><br/><span class="hl-1">)</span><br/><br/><span class="hl-4">console</span><span class="hl-1">.</span><span class="hl-0">log</span><span class="hl-1">(</span><span class="hl-4">result</span><span class="hl-1">)</span>
</code><button type="button">Copy</button></pre>

<h2 id="security-issues" class="tsd-anchor-link">Security issues<a href="#security-issues" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>If you think you ran into something in Uploadcare libraries that might have
security implications, please hit us up at
<a href="mailto:bugbounty@uploadcare.com">bugbounty@uploadcare.com</a> or Hackerone.</p>
<p>We'll contact you personally in a short time to fix an issue through co-op and
prior to any public disclosure.</p>
<h2 id="feedback" class="tsd-anchor-link">Feedback<a href="#feedback" aria-label="Permalink" class="tsd-anchor-icon"><svg viewBox="0 0 24 24" aria-hidden="true"><use href="assets/icons.svg#icon-anchor"></use></svg></a></h2><p>Issues and PRs are welcome. You can provide your feedback or drop us a support
request at <a href="mailto:hello@uploadcare.com">hello@uploadcare.com</a>.</p>
</div></div><div class="col-sidebar"><div class="page-menu"><div class="tsd-navigation settings"><details class="tsd-accordion"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>Settings</h3></summary><div class="tsd-accordion-details"><div class="tsd-filter-visibility"><span class="settings-label">Member Visibility</span><ul id="tsd-filter-options"><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-protected" name="protected"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Protected</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-inherited" name="inherited" checked/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>Inherited</span></label></li><li class="tsd-filter-item"><label class="tsd-filter-input"><input type="checkbox" id="tsd-filter-external" name="external"/><svg width="32" height="32" viewBox="0 0 32 32" aria-hidden="true"><rect class="tsd-checkbox-background" width="30" height="30" x="1" y="1" rx="6" fill="none"></rect><path class="tsd-checkbox-checkmark" d="M8.35422 16.8214L13.2143 21.75L24.6458 10.25" stroke="none" stroke-width="3.5" stroke-linejoin="round" fill="none"></path></svg><span>External</span></label></li></ul></div><div class="tsd-theme-toggle"><label class="settings-label" for="tsd-theme">Theme</label><select id="tsd-theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></div></div></details></div><details open class="tsd-accordion tsd-page-navigation"><summary class="tsd-accordion-summary"><svg width="20" height="20" viewBox="0 0 24 24" fill="none" aria-hidden="true"><use href="assets/icons.svg#icon-chevronDown"></use></svg><h3>On This Page</h3></summary><div class="tsd-accordion-details"><a href="#uploadcare-rest-api-client"><span>Uploadcare <wbr/>REST <wbr/>API <wbr/>Client</span></a><ul><li><a href="#install"><span>Install</span></a></li><li><a href="#usage"><span>Usage</span></a></li><li><ul><li><a href="#authentication"><span>Authentication</span></a></li><li><ul><li><a href="#uploadcaresimple-authentication-method"><span>Uploadcare.<wbr/>Simple authentication method</span></a></li><li><a href="#uploadcare-authentication-method"><span>Uploadcare authentication method</span></a></li></ul></li><li><a href="#api"><span>API</span></a></li><li><a href="#settings"><span>Settings</span></a></li><li><a href="#pagination"><span>Pagination</span></a></li><li><ul><li><a href="#using-async-generator-and-paginate-helper"><span>Using async generator and paginate() helper</span></a></li><li><a href="#using-paginator-class"><span>Using <wbr/>Paginator class</span></a></li><li><a href="#job-status-polling"><span>Job status polling</span></a></li><li><ul><li><a href="#conversion-api"><span>Conversion <wbr/>API</span></a></li><li><a href="#addons-api"><span>Addons <wbr/>API</span></a></li></ul></li></ul></li></ul></li><li><a href="#security-issues"><span>Security issues</span></a></li><li><a href="#feedback"><span>Feedback</span></a></li></ul></div></details></div><div class="site-menu"><nav class="tsd-navigation"><a href="modules.html">@uploadcare/rest-client</a><ul class="tsd-small-nested-navigation" id="tsd-nav-container"><li>Loading...</li></ul></nav></div></div></div><footer><p class="tsd-generator">Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></footer><div class="overlay"></div></body></html>
